<html>
   <head>
      <title>FailureVsUnitTested</title>
      <script src="https://cdn.jsdelivr.net/npm/vega@5"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega-lite@4"></script>
      <script src="https://cdn.jsdelivr.net/npm/vega-embed@6"></script>
      <style>
         body {
         font-family: sans-serif;
         }
      </style>
   </head>
   <body>
      <table style="width: 850px;" cellspacing="5" cellpadding="5">
         <tbody>
            <tr>
               <td style="vertical-align: top;"><strong>Dataset description:</strong></td>
               <td style="vertical-align: top;"><b> National Car Test(NCT) Failure Rates:</b>
                  <li>
                  The overall vehicles failure rates for the National Car Testing service in 2016 is summarised in the dataset taken. There are several features that determine the overall failure of the car model. NCT is aimed primarily at improving road safety and enhancing environmental protection by providing an independent assessment of the roadworthiness and emissions level of cars at regular intervals throughout their life.
                </li>
                 <li>
                  NCT test results also helps car buyers choose wisely.
                </li>
                <li>Periodic roadworthiness testing of passenger cars and commercial vehicles is mandatory in all Member States of the European Community. NCTS is required to provide very high standards of customer service, in line with acceptable performance standards.</li>
                <li>The Dataset contains 36 features and 8165 rows. Total 112 car manufacturing companies. Below are the description of essential features:
                  <ol> 
                  <li>VehicleMake: Car manufacturing company.</li>
                  <li>Vehicle Model: Model of the car.</li>
                  <li>Year Of Birth: First release of the car model.</li>
                  <li>Total: Total number of tests that have been done on a particular car model.</li>
                  <li>Pass: Number of tests passed.</li>
                  <li>Vehicle and Safety Equipment: Tests failed for Vehicle and Safety Equipment.</li>
                  <li>Lighting and Electrical: Tests failed for Lighting and Electrical.</li>
                  <li>Steering and Suspension: Tests failed for Steering and Suspension.</li>
                  <li>Braking Equipment: Tests failed for Braking Equipment</li>
                  <li>Wheels and Tyres: Tests failed for wheel and tyres.</li>
                  <li>Engine, Noise and Exhaust: Tests failed for engine, noise and exhaust.</li>
                  <li>Side Slip Test: Tests failed for side slip testing.</li>
                  <li>Suspension Test: Tests failed for suspension testing.</li>
                  <li>Brake Test: Tests failed for brake testing.</li>
                  <li>Emmissions: Tests failed for car emmission testing.</li>
                  </ol>
                </li>
                </ul>
                <b>For the graph below a new processed, filtered and aggregated subset stored in a file TotalTest_FailPercentage_Years.csv is used.</b>
                The new dataset contais 13 rows and 3 columns. Below are the column details:
                <ul>
                  <li>Year: The year for which the the fail percentage and unit tested are displayed. The data is over a decade ranging from 2000 to 2013.</li>
                  <li>Fail_Percentage: The total percentage of tests failed in a given year.</li>
                  <li>Total_Tests: Total units tested in a given year by various car makers combined.</li>
                </ul>
               </td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Initial questions</strong></td>
               <td style="vertical-align: top;">How the failure percentage varies with the increase in number of testing? 
                <br>Which year shows a significant impact in the Failure % based on unit tested? 
                <br>When was the time when the there was significant difference between failure percentage and number of unit tested?
                <br>Over the years how automobile industry is progressing based on failure percentage and unit tested?</br>
                </td>
            </tr>
         </tbody>
      </table>
      <hr />
      <div id="vis"></div>
      <hr />
      <table style="width: 850px;" cellspacing="5" cellpadding="5">
         <tbody>
            <tr>
               <td style="width: 200px; vertical-align: top;"><strong>Description:&nbsp;</strong></td>
               <td style="vertical-align: top;">
                <b>A layered graph showing the trend of how failure % varies with increase in number of car testing.</b>
                <li>There are two layers in the graph. The first layer show the number of unit tested vs years.</li>
                <li>The second layer shows the failure percentage in each year.</li>
                <li>By combining the two layer they show both aspect of number of units tested and failure % for a particular year.</li>
               </td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Insight:</strong></td>
               <td style="vertical-align: top;"><b>Following insights can be drawn from the graph above:</b>
                <li>Overall, it is evident from the graph that the failure percentage decrease with increase in the number of testing over the years.</li>
                <li> A Maximum number of the test was conducted in the year 2005, and the highest failure percentage was in the year 2000. Least Failure % and tests were conducted in year 2013.</li>
                <li>Year 2008 was the year when there was a significant difference between the number of units tested to the failure percentage. Around 1.6 lakh tests were made, and failure percentage was about 44%.</li>
                <li>It is visible from the graph that over the years the car manufacturers have taken more number tests which resulted in decreasing failure percentage. By this, we can infer that carmakers have increased there quality standards and provide better services to there customers.</li>
                
               </td>
            </tr>
            <tr>
               <td style="vertical-align: top;"><strong>Design considerations</strong></td>
               <td style="vertical-align: top;"><b>Following are the design considerations</b>:
                <li>In order to understand the design of this plot, the encodings for the X axis contain years in which the tests are conducted.
                <li>Encoding of Y axis consists of two layers. On the left side we have number of unit tested. On the right side we have failure percentage.</li>
                <br><b>Alternatives</b></br>
                <ol>
                  <li><b>Line Chart:</b> Using line chart to show trends between year, testings anf failures.</li> 
                    <b> Disadvantage:</b>
                    <ul>
                      <li>Since unit tested were fixed values and we wanted to compare failure trend based on unit tested, using both line chart was not a clear alternative.</li>
                    </ul>
                  <li><b>Our Design Advantages:</b></li>
                  <ul>
                      <li>Since we wanted to compare of failure trend with fixed values. This layered approach best suited as we can clearly depict how the failure percentage vary with increasing number of tests.</li>
                  </ul>
               </ol>
                </td>
            </tr>
            <tr>
               <td style="width: 200px; vertical-align: top;"><strong>Data filtering and transformation:&nbsp;</strong></td>
               <td style="vertical-align: top;"><b>Following filtering and transformations are applied on the data:</b>
               <li>The data is transformed, aggregated and filtered to yearOfBirth field together.</li>
               <li>Once we had the data grouped based on years we summed up the number of tests conducted in that year by all manufacture.</li>
               <li>Also, calculated the failure percentage by dividing total failures by total tests in a year.</li>
               <li>The aggregated and summarized data is then stored in a new file which is being used further analysis.</li>
               </td>
            </tr>
         </tbody>
      </table>
      <script type="text/javascript">
        var yourVlSpec = 
 {
  "$schema": "https://vega.github.io/schema/vega-lite/v4.json",
  "data": {
    "url": "https://raw.githubusercontent.com/ankitk2109/InformationVisualization/master/NCT/Data/TotalTest_FailPercentage_Years.csv",
    "format": {"type": "csv"}
  },
  "title": {
    "text": "Failure(%) Vs Total Tests Over the Years ",
    "anchor": "middle",
    "fontSize": 20
  },
  "config": {
    "axis": {"labelFontSize": 12, "titleFontSize": 14, "titlePadding": 8},
    "legend": {"orient": "right", "labelFontSize": 10, "padding": 3}
  },
  "width": 700,
  "height": 500,
  "encoding": {
    "x": {
      "field": "Year",
      "type": "nominal",
      "scale": {"zero": false},
      "axis": {
        "title": "Year Registered",
        "titleFontSize": 14,
        "labelAngle": 0,
        "labelFontSize": 14
      }
    }
  },
  "layer": [
    {
      "mark": {"type": "bar", "interpolate": "monotone", "tooltip": true},
      "encoding": {
        "y": {
          "field": "Total_Tests",
          "type": "quantitative",
          "scale": {"zero": false},
          "axis": {
            "titlePadding": 8,
            "titleColor": "#5574a1f3",
            "title": "Units Tested",
            "titleFontSize": 14,
            "labelAngle": 0,
            "labelFontSize": 12
          }
        },
        "size": {"value": 30}
      }
    },
    {
      "mark": {
        "type": "line",
        "tooltip": true,
        "color": "#FE2E2E",
        "point": true
      },
      "encoding": {
        "y": {
          "field": "Fail_Percentage",
          "type": "quantitative",
          "scale": {"zero": false},
          "axis": {
            "title": "Failure(%)",
            "titleFontSize": 14,
            "titleColor": "#FE2E2E",
            "labelAngle": 0,
            "labelFontSize": 12,
            "labelPadding": 15
          }
        }
      }
    }
  ],
  "resolve": {"scale": {"y": "independent"}}
}
        vegaEmbed("#vis", yourVlSpec);
      </script>
   </body>
</html>